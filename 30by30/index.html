<!DOCTYPE html>

<html>
 
  <head>

    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBQ1nC8ipyjpifMdEzbm0cEADr2JeihK1A">
    </script>

    <script type="text/javascript">
      var map = null;

      function createMap(mapElement) {
        map = new google.maps.Map(mapElement, {
          zoomControl: true,
          panControl: true,
          mapTypeControl: true,
          scaleControl: true,
        });
        map.setCenter(new google.maps.LatLng(53.0, -2.0));
        map.setZoom(7);
        map.setMapTypeId(google.maps.MapTypeId.ROADMAP);
      }

      // Map from rank to data
      var data = [];
      data[1] = {rank: 1, coords: {lat: 53.068864, lng: -4.075589}, name: 'Snowdon (Yr Wyddfa)', height: 1085, area: 'Snowdonia', country: 'Wales',
                 date: '18/07/2009',
                 photos: 'https://photos.app.goo.gl/JJBwrX6L9J4cKb6f9',
                 thumbnail: 'photos/IMGP4723.JPG'};
      data[2] = {rank: 2, coords: {lat: 53.07518, lng: -4.074399}, name: 'Garnedd Ugain (Crib y Ddysgl)', height: 1066, area: 'Snowdonia', country: 'Wales',
                 date: '18/07/2009',
                 photos: 'https://photos.app.goo.gl/JJBwrX6L9J4cKb6f9',
                 thumbnail: 'photos/IMGP4721.JPG'};
      data[3] = {rank: 3, coords: {lat: 53.160587, lng: -3.969305}, name: 'Carnedd Llewelyn', height: 1064, area: 'Snowdonia', country: 'Wales',
                 date: '12/04/2009',
                 photos: 'https://photos.app.goo.gl/M64kWWRhAWHQ4bWq8',
                 thumbnail: 'photos/IMGP4563.JPG'};
      data[4] = {rank: 4, coords: {lat: 53.147486, lng: -4.000113}, name: 'Carnedd Dafydd', height: 1040, area: 'Snowdonia', country: 'Wales',
                 date: '19/07/2009',
                 photos: 'https://photos.app.goo.gl/JJBwrX6L9J4cKb6f9',
                 thumbnail: 'photos/IMGP4734.JPG'};
      data[5] = {rank: 5, coords: {lat: 53.10097, lng: -4.02978}, name: 'Glyder Fawr', height: 999, area: 'Snowdonia', country: 'Wales',
                 date: '22/02/2009',
                 photos: 'https://photos.app.goo.gl/YF7iPJ6UQ5TWKvnG9',
                 thumbnail: 'photos/P2210433.JPG'};
      data[6] = {rank: 6, coords: {lat: 53.105108, lng: -4.00711}, name: 'Glyder Fach', height: 990, area: 'Snowdonia', country: 'Wales',
                 date: '08/08/2009',
                 photos: 'https://photos.app.goo.gl/j9aPnkPSuR8yAoEq7',
                 thumbnail: 'photos/IMGP4748.JPG'};
      data[7] = {rank: 7, coords: {lat: 54.454222, lng: -3.211528}, name: 'Scafell Pike', height: 978, area: 'Lakes', country: 'England',
                 date: '24/05/2009',
                 photos: 'https://photos.app.goo.gl/2ZAe1iDHwPNjde7X9',
                 thumbnail: 'photos/IMGP4628.JPG'};
      data[8] = {rank: 8, coords: {lat: 53.137427, lng: -4.010112}, name: 'Pen yr Ole Wen', height: 978, area: 'Snowdonia', country: 'Wales',
                 date: '19/07/2009',
                 photos: 'https://photos.app.goo.gl/JJBwrX6L9J4cKb6f9',
                 thumbnail: 'photos/IMGP4733.JPG'};
      data[9] = {rank: 9, coords: {lat: 53.174167, lng: -3.963333}, name: 'Foel Grach', height: 976, area: 'Snowdonia', country: 'Wales',
                 date: '12/04/2009',
                 photos: 'https://photos.app.goo.gl/M64kWWRhAWHQ4bWq8'};
      data[10] = {rank: 10, coords: {lat: 54.447105, lng: -3.223832}, name: 'Sca Fell', height: 964, area: 'Lakes', country: 'England',
                  date: '24/05/2009',
                  photos: 'https://photos.app.goo.gl/2ZAe1iDHwPNjde7X9',
                  thumbnail: 'photos/IMGP4624.JPG'};
      data[11] = {rank: 11, coords: {lat: 53.166628, lng: -3.984544}, name: 'Yr Elen', height: 962, area: 'Snowdonia', country: 'Wales',
                  date: '19/07/2009',
                  photos: 'https://photos.app.goo.gl/JJBwrX6L9J4cKb6f9',
                  thumbnail: 'photos/IMGP4735.JPG'};
      data[12] = {rank: 12, coords: {lat: 54.527231, lng: -3.016054}, name: 'Helvellyn', height: 950, area: 'Lakes', country: 'England',
                  date: '29/08/2009',
                  photos: 'https://photos.app.goo.gl/QqXdiaw9J1JVaiy36'};
      data[13] = {rank: 13, coords: {lat: 53.115228, lng: -4.046438}, name: 'Y Garn (Glyders)', height: 947, area: 'Snowdonia', country: 'Wales',
                  date: '22/02/2009',
                  photos: 'https://photos.app.goo.gl/YF7iPJ6UQ5TWKvnG9'};
      data[14] = {rank: 14, coords: {lat: 53.194151, lng: -3.95138}, name: 'Foel-fras', height: 942, area: 'Snowdonia', country: 'Wales',
                  date: '12/04/2009',
                  photos: 'https://photos.app.goo.gl/M64kWWRhAWHQ4bWq8'};
      data[15] = {rank: 15, coords: {lat: 54.455456, lng: -3.197855}, name: 'Ill Crag', height: 935, area: 'Lakes', country: 'England',
                  date: '24/05/2009',
                  photos: 'https://photos.app.goo.gl/2ZAe1iDHwPNjde7X9',
                  thumbnail: 'photos/IMGP4634.JPG'};
      data[16] = {rank: 16, coords: {lat: 54.457176, lng: -3.205619}, name: 'Broad Crag', height: 934, area: 'Lakes', country: 'England',
                  date: '24/05/2009',
                  photos: 'https://photos.app.goo.gl/2ZAe1iDHwPNjde7X9',
                  thumbnail: 'photos/IMGP4631.JPG'};
      data[17] = {rank: 17, coords: {lat: 54.651006, lng: -3.146247}, name: 'Skiddaw', height: 931, area: 'Lakes', country: 'England',
                  date: '30/08/2009',
                  photos: 'https://photos.app.goo.gl/QqXdiaw9J1JVaiy36'};
      data[18] = {rank: 18, coords: {lat: 53.183148, lng: -3.964352}, name: 'Garnedd Uchaf', height: 926, area: 'Snowdonia', country: 'Wales',
                  date: '12/04/2009',
                  photos: 'https://photos.app.goo.gl/M64kWWRhAWHQ4bWq8',
                  thumbnail: 'photos/IMGP4568.JPG'};
      data[19] = {rank: 19, coords: {lat: 53.130934, lng: -4.074095}, name: 'Elidir Fawr', height: 924, area: 'Snowdonia', country: 'Wales',
                  date: '08/08/2009',
                  photos: 'https://photos.app.goo.gl/j9aPnkPSuR8yAoEq7',
                  thumbnail: 'photos/IMGP4750.JPG'};
      data[20] = {rank: 20, coords: {lat: 53.075542, lng: -4.053513}, name: 'Crib Goch', height: 923, area: 'Snowdonia', country: 'Wales',
                  date: '18/07/2009',
                  photos: 'https://photos.app.goo.gl/JJBwrX6L9J4cKb6f9',
                  thumbnail: 'photos/IMGP4706.JPG'};
      data[21] = {rank: 21, coords: {lat: 53.114293, lng: -3.995583}, name: 'Tryfan', height: 915, area: 'Snowdonia', country: 'Wales',
                  date: '08/08/2009',
                  photos: 'https://photos.app.goo.gl/j9aPnkPSuR8yAoEq7',
                  thumbnail: 'photos/IMGP4745.JPG'};
      data[22] = {rank: 22, coords: {lat: 54.465386, lng: -3.193516}, name: 'Great End', height: 910, area: 'Lakes', country: 'England',
                  date: '24/05/2009',
                  photos: 'https://photos.app.goo.gl/2ZAe1iDHwPNjde7X9',
                  thumbnail: 'photos/IMGP4638.JPG'};
      data[23] = {rank: 23, coords: {lat: 52.786388, lng: -3.686884}, name: 'Aran Fawddwy', height: 905, area: 'Snowdonia', country: 'Wales',
                  date: '29/11/2009',
                  photos: 'https://photos.app.goo.gl/DQTWsGian87ymZA2A',
                  thumbnail: 'photos/IMGP5097.JPG'};
      data[24] = {rank: 24, coords: {lat: 54.4477, lng: -3.163696}, name: 'Bow Fell', height: 902, area: 'Lakes', country: 'England',
                  date: '24/05/2009',
                  photos: 'https://photos.app.goo.gl/2ZAe1iDHwPNjde7X9',
                  thumbnail: 'photos/IMGP4639.JPG'};
      data[25] = {rank: 25, coords: {lat: 54.483127, lng: -3.217189}, name: 'Great Gable', height: 899, area: 'Lakes', country: 'England',
                  date: '24/05/2009',
                  photos: 'https://photos.app.goo.gl/2ZAe1iDHwPNjde7X9',
                  thumbnail: 'photos/IMGP4646.JPG'};
      data[26] = {rank: 26, coords: {lat: 53.059319, lng: -4.055727}, name: 'Y Lliwedd', height: 898, area: 'Snowdonia', country: 'Wales',
                  date: '18/07/2009',
                  photos: 'https://photos.app.goo.gl/JJBwrX6L9J4cKb6f9',
                  thumbnail: 'photos/IMGP4732.JPG'};
      data[27] = {rank: 27, coords: {lat: 52.699429, lng: -3.907033}, name: 'Cadair Idris (Penygadair)', height: 893, area: 'Snowdonia', country: 'Wales',
                  date: '29/11/2009',
                  photos: 'https://photos.app.goo.gl/DQTWsGian87ymZA2A',
                  thumbnail: 'photos/IMGP5104.JPG'};
      data[28] = {rank: 28, coords: {lat: 54.703095, lng: -2.484996}, name: 'Cross Fell', height: 893, area: 'North Pennines', country: 'England',
                  date: '25/05/2009',
                  photos: 'https://photos.app.goo.gl/2ZAe1iDHwPNjde7X9',
                  thumbnail: 'photos/IMGP4659.JPG'};
      data[29] = {rank: 29, coords: {lat: 54.497765, lng: -3.279396}, name: 'Pillar', height: 892, area: 'Lakes', country: 'England',
                  date: '24/05/2009',
                  photos: 'https://photos.app.goo.gl/2ZAe1iDHwPNjde7X9',
                  thumbnail: 'photos/IMGP4651.JPG'};
      data[30] = {rank: 30, coords: {lat: 54.533599, lng: -3.006939}, name: 'Catstye Cam', height: 890, area: 'Lakes', country: 'England',
                  date: '29/08/2009',
                  photos: 'https://photos.app.goo.gl/QqXdiaw9J1JVaiy36'};

      function setText(node, text) {
        if (node.innerText) {
          node.innerText = text;
        } else {
          node.textContent = text;
        }
      }

      function appendTextDiv(element, text) {
        var e = document.createElement('div');
        setText(e, text);
        element.appendChild(e); 
        return e;
      }
      
      /* Returns an HTML object for the peak */
      function createPeakDomElement(peak) {
        var element = document.createElement('div');
        element.className = 'peak';
        appendTextDiv(element, 'rank: ' + peak.rank);
        appendTextDiv(element, 'name: ' + peak.name);
        appendTextDiv(element, 'height: ' + peak.height);
        appendTextDiv(element, 'area: ' + peak.area);
        appendTextDiv(element, 'country: ' + peak.country);
        appendTextDiv(element, 'date: ' + peak.date);

        var anchor = null;
        anchor = document.createElement('a');
        anchor.href = peak.photos;
        anchor.target = '30by30photos';

        if (peak.thumbnail) {
          var image = document.createElement('img');
          image.src = peak.thumbnail;
          anchor.appendChild(image);
          image = anchor;
          element.appendChild(image);
        } else {
          setText(anchor, 'Photos');
          element.appendChild(anchor);
        }
        return element;
      }

      function addMarker(peak) {
        var marker =  new google.maps.Marker({
          title: peak.name,
          position: new google.maps.LatLng(peak.coords.lat, peak.coords.lng),
          map: map,
        });
        peak.marker = marker;
        marker.addListener('click', (function(p) { return function() {
          p.infoWindow.open(map, p.marker);
        }; })(peak));
      }

      function onLoad() {
        createMap(document.getElementById('map'));
        var list = document.getElementById('list');
        for (var i = 1; i < data.length; i++) {
          var peak = data[i];
          peak.infoWindow = new google.maps.InfoWindow({
            content: createPeakDomElement(peak),
          });
          addMarker(peak);

          var listItem = document.createElement('li');
          var anchor = document.createElement('a');
          anchor.href = '#';
          anchor.onclick = (function(p) { return function() {
            p.infoWindow.open(map, p.marker);
          }; })(peak);
          setText(anchor, peak.name);
          listItem.appendChild(anchor);
          list.appendChild(listItem);
        }
      }
    </script>

    <style type="text/css">
      #map {
        width: 800px;
        height: 800px;
      }
    </style>

    <title>30 by 30</title>

  </head>

  <body onload="onLoad();">
    <div id="map"></div>
    <div><ol id="list"></ol></div>
  </body>

</html>
